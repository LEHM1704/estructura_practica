<div class="p-4 md:p-8">

  <div class="mb-6 flex">
    <input 
      type="text" 
      pInputText 
      [(ngModel)]="searchTerm"
      (keyup.enter)="onSearch()"
      placeholder="Buscar Pokémon por nombre o ID..." 
      class="w-full md:w-1/3" 
    />
    <p-button label="Search"
      icon="pi pi-search" 
      (click)="onSearch()" 
      styleClass="ml-2"
      iconPos="top" 
    />
    
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
    
    @for (pokemon of pokemons; track pokemon.name) {
      
      <div>
        <p-card 
          [header]="pokemon.name | titlecase" 
          styleClass="cursor-pointer hover:shadow-lg transition-shadow h-full text-center"
          (click)="goToDetail(pokemon.name)"
        >
          <ng-template pTemplate="header">
             <div class="p-4 flex justify-center bg-slate-50 rounded-t-lg">
                <img 
                  [src]="getPokemonImage(pokemon.url)" 
                  [alt]="pokemon.name"
                  class="w-32 h-32 object-contain"
                  loading="lazy"
                />
             </div>
          </ng-template>

          <div class="flex flex-col items-center">
             <p class="text-sm text-gray-600 mt-2">Clic para ver detalles</p>
          </div>
        </p-card>
      </div>

    } @empty {
      <div class="col-span-full text-center p-8 text-gray-500">
        <i class="pi pi-search text-4xl mb-2"></i>
        <p>No se encontraron Pokémon.</p>
      </div>
    }

  </div>

  <p-paginator 
    (onPageChange)="onPageChange($event)" 
    [rows]="rows" 
    [totalRecords]="totalRecords"
    [rowsPerPageOptions]="[10, 20, 50]"
    styleClass="mt-6"
  />

</div>